--
-- PostgreSQL database dump
--

-- Dumped from database version 10.22
-- Dumped by pg_dump version 10.22

-- Started on 2022-12-11 19:48:40

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 1 (class 3079 OID 12924)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2863 (class 0 OID 0)
-- Dependencies: 1
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 197 (class 1259 OID 24755)
-- Name: category; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.category (
    id integer NOT NULL,
    name character varying(255)
);


ALTER TABLE public.category OWNER TO postgres;

--
-- TOC entry 196 (class 1259 OID 24753)
-- Name: category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.category ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 199 (class 1259 OID 24762)
-- Name: image; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.image (
    id integer NOT NULL,
    file_name character varying(255),
    product_id integer NOT NULL
);


ALTER TABLE public.image OWNER TO postgres;

--
-- TOC entry 198 (class 1259 OID 24760)
-- Name: image_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.image ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.image_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 201 (class 1259 OID 24769)
-- Name: orders; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.orders (
    id integer NOT NULL,
    count integer NOT NULL,
    date_time timestamp without time zone,
    number character varying(255),
    price real NOT NULL,
    status integer,
    person_id integer NOT NULL,
    product_id integer NOT NULL
);


ALTER TABLE public.orders OWNER TO postgres;

--
-- TOC entry 200 (class 1259 OID 24767)
-- Name: orders_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.orders ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.orders_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 203 (class 1259 OID 24776)
-- Name: person; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.person (
    id integer NOT NULL,
    login character varying(50),
    password character varying(255),
    role character varying(255),
    date_time_of_created timestamp without time zone,
    patronymic text
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 202 (class 1259 OID 24774)
-- Name: person_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.person ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.person_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 205 (class 1259 OID 24786)
-- Name: product; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product (
    id integer NOT NULL,
    date_time_of_created timestamp without time zone,
    description text NOT NULL,
    price real NOT NULL,
    seller character varying(255) NOT NULL,
    title text NOT NULL,
    warehouse character varying(255) NOT NULL,
    category_id integer NOT NULL,
    CONSTRAINT product_price_check CHECK ((price >= (1)::double precision))
);


ALTER TABLE public.product OWNER TO postgres;

--
-- TOC entry 207 (class 1259 OID 24797)
-- Name: product_cart; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.product_cart (
    id integer NOT NULL,
    person_id integer,
    product_id integer
);


ALTER TABLE public.product_cart OWNER TO postgres;

--
-- TOC entry 206 (class 1259 OID 24795)
-- Name: product_cart_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product_cart ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_cart_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 204 (class 1259 OID 24784)
-- Name: product_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.product ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.product_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 2845 (class 0 OID 24755)
-- Dependencies: 197
-- Data for Name: category; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.category (id, name) VALUES (1, 'Мебель');
INSERT INTO public.category (id, name) VALUES (2, 'Мебель');
INSERT INTO public.category (id, name) VALUES (3, 'Мебель');
INSERT INTO public.category (id, name) VALUES (4, 'Мебель');
INSERT INTO public.category (id, name) VALUES (5, 'Мебель');
INSERT INTO public.category (id, name) VALUES (6, 'Мебель');
INSERT INTO public.category (id, name) VALUES (7, 'Мебель');
INSERT INTO public.category (id, name) VALUES (8, 'Мебель');
INSERT INTO public.category (id, name) VALUES (9, 'cats');
INSERT INTO public.category (id, name) VALUES (10, 'cats');
INSERT INTO public.category (id, name) VALUES (11, 'Обувь');
INSERT INTO public.category (id, name) VALUES (12, 'Одежда');


--
-- TOC entry 2847 (class 0 OID 24762)
-- Dependencies: 199
-- Data for Name: image; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.image (id, file_name, product_id) VALUES (41, 'f8474b0f-1de9-42e2-ba02-7695b7de1ea1.14.jpg', 9);
INSERT INTO public.image (id, file_name, product_id) VALUES (42, 'e2995325-e931-4e13-81a8-104ee797c8f5.', 9);
INSERT INTO public.image (id, file_name, product_id) VALUES (43, '9fbd17ec-faa2-43f0-8f44-6c27ac3f216e.', 9);
INSERT INTO public.image (id, file_name, product_id) VALUES (44, '3a33c9f9-ec7a-464c-81a0-6666ee4e8282.', 9);
INSERT INTO public.image (id, file_name, product_id) VALUES (45, '365dd596-a378-430b-98ba-52e9652e8716.', 9);
INSERT INTO public.image (id, file_name, product_id) VALUES (46, '0332ab78-1ddf-4907-bd2f-f0452cf571d2.3.jpg', 10);
INSERT INTO public.image (id, file_name, product_id) VALUES (47, 'b49dbe8d-5305-4afc-9b3a-ca19db6afae6.', 10);
INSERT INTO public.image (id, file_name, product_id) VALUES (48, '053f6197-20a6-40a7-ad2f-2f68dfa63571.', 10);
INSERT INTO public.image (id, file_name, product_id) VALUES (49, '3849716a-37a9-4efb-8aba-e51d46e5bbde.', 10);
INSERT INTO public.image (id, file_name, product_id) VALUES (50, '2c2f1caa-b82b-4940-b374-0b906175c4cf.', 10);
INSERT INTO public.image (id, file_name, product_id) VALUES (51, '54c6f7e5-9a64-45f6-947e-65067e5d2b51.75.jpg', 11);
INSERT INTO public.image (id, file_name, product_id) VALUES (52, '89d082bd-2de0-4048-a687-70648a1bff15.70.jpg', 11);
INSERT INTO public.image (id, file_name, product_id) VALUES (53, '5c30b677-9909-48a3-9cca-11a16d884630.71.jpg', 11);
INSERT INTO public.image (id, file_name, product_id) VALUES (54, 'f95957d8-2b4f-42b0-8988-b20dc5dde38c.72.jpg', 11);
INSERT INTO public.image (id, file_name, product_id) VALUES (55, '705d32d4-2fb6-4cb6-8c08-700ef112ba71.73.jpg', 11);
INSERT INTO public.image (id, file_name, product_id) VALUES (56, '4e0762df-b50d-4678-8b14-f5d40e47005f.54.jpg', 12);
INSERT INTO public.image (id, file_name, product_id) VALUES (57, '34478c15-6dfc-40a9-ae25-220a44101574.', 12);
INSERT INTO public.image (id, file_name, product_id) VALUES (58, 'b7368460-65f1-40df-b131-78b4dbc9d9d5.', 12);
INSERT INTO public.image (id, file_name, product_id) VALUES (59, '602871a8-cbcf-4097-9562-447f0abeb8da.', 12);
INSERT INTO public.image (id, file_name, product_id) VALUES (60, '4a5d06af-5f1e-4b13-bebe-587693fe8846.', 12);
INSERT INTO public.image (id, file_name, product_id) VALUES (61, '31262bb1-8d11-4fda-b53e-cf298805ec1d.52.jpg', 13);
INSERT INTO public.image (id, file_name, product_id) VALUES (62, '885413de-a85e-46b6-90dd-9d5829e7c942.', 13);
INSERT INTO public.image (id, file_name, product_id) VALUES (63, '7c211024-3898-40d0-bfeb-41fae45bcfbb.', 13);
INSERT INTO public.image (id, file_name, product_id) VALUES (64, '04d9af0c-1f9f-4408-b84d-03dd196d6b87.', 13);
INSERT INTO public.image (id, file_name, product_id) VALUES (65, '887c968b-1182-42e1-bc8c-a97bd01c9e3d.', 13);
INSERT INTO public.image (id, file_name, product_id) VALUES (66, 'cc126edd-181b-4b0d-8cb6-e3d0c35a17f6.50.jpg', 14);
INSERT INTO public.image (id, file_name, product_id) VALUES (67, '91dc0f7a-66a3-4c65-8d36-ac536692c036.51.jpg', 14);
INSERT INTO public.image (id, file_name, product_id) VALUES (68, '4d6879e2-59ce-404f-8ce1-3229720f8ec7.52.png', 14);
INSERT INTO public.image (id, file_name, product_id) VALUES (69, '06c3b6cb-32cc-4250-81e2-707c7c31bb4c.', 14);
INSERT INTO public.image (id, file_name, product_id) VALUES (70, '85760be9-8c1c-4e82-843f-da8c434c36af.', 14);
INSERT INTO public.image (id, file_name, product_id) VALUES (71, 'afb13b87-8243-4e87-aa28-1f3be185a116.51.jpeg', 15);
INSERT INTO public.image (id, file_name, product_id) VALUES (72, '38a0eed3-a52f-41e7-9d67-5dab58afec93.', 15);
INSERT INTO public.image (id, file_name, product_id) VALUES (73, '01135762-7431-4241-a368-dd7e5c810976.', 15);
INSERT INTO public.image (id, file_name, product_id) VALUES (74, '2577f0f5-6fd0-48f4-adc9-07e89d0a2f0a.', 15);
INSERT INTO public.image (id, file_name, product_id) VALUES (75, '07d3bbf1-0c7b-4820-a7b5-709edf781d65.', 15);
INSERT INTO public.image (id, file_name, product_id) VALUES (76, '7326c54d-5877-40a4-8687-2e3928cdba79.7.jpg', 16);
INSERT INTO public.image (id, file_name, product_id) VALUES (77, '8bab4803-2457-4418-9edd-3694838f02b4.5.jpg', 16);
INSERT INTO public.image (id, file_name, product_id) VALUES (78, '059301f4-1f0c-4ce0-97e4-01fb77c54975.4.jpg', 16);
INSERT INTO public.image (id, file_name, product_id) VALUES (79, 'e72f4ed9-b089-498e-99d2-b77e3f60be90.', 16);
INSERT INTO public.image (id, file_name, product_id) VALUES (80, '908db08d-e691-4123-ae26-3eabbd2fc424.', 16);


--
-- TOC entry 2849 (class 0 OID 24769)
-- Dependencies: 201
-- Data for Name: orders; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (1, 1, '2022-12-11 13:09:10.789796', '32eb0d96-92c7-4d97-8546-d1c1d9ba679b', 7500, 1, 2, 9);
INSERT INTO public.orders (id, count, date_time, number, price, status, person_id, product_id) VALUES (2, 1, '2022-12-11 13:09:10.8578', '32eb0d96-92c7-4d97-8546-d1c1d9ba679b', 7899, 1, 2, 11);


--
-- TOC entry 2851 (class 0 OID 24776)
-- Dependencies: 203
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.person (id, login, password, role, date_time_of_created, patronymic) VALUES (1, 'admin', '$2a$10$Mi6aR0p8ZoY8qdobk8SYOuE08RIOBFqVUgYPP2rZ4rhoY37IkeRu.', 'ROLE_ADMIN', NULL, NULL);
INSERT INTO public.person (id, login, password, role, date_time_of_created, patronymic) VALUES (2, 'user_test', '$2a$10$g.W5dicwhZwZHWSW7JYrSOWaIJij/XJFHbs.F/P/NyGjBnwXtGXCW', 'ROLE_USER', NULL, NULL);


--
-- TOC entry 2853 (class 0 OID 24786)
-- Dependencies: 205
-- Data for Name: product; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (9, NULL, 'Хорошая фирменная обувь.
Производство: Турция.
Размеры: 39-45.', 7500, 'Компания Омега.', 'Bars', '45', 11);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (10, NULL, 'Зимняя удобная обувь.
Производство: Италия.
Размеры: 38-44.', 10000, 'Линк интертеймент.', 'Italiano', '5', 11);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (11, NULL, 'Удобная женская обувь.
Производство: Турция.
Размеры: 36-43.', 7899, 'ООО "Андал"', 'Licius LS', '4', 11);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (12, '2022-12-11 14:08:46.673325', 'Комплект детской одежды. 
Производство: Россия. 
Размер: для детей 1-2 года.', 6500, 'ООО Ясли', 'Complex JS', '34', 12);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (13, '2022-12-11 14:11:56.503182', 'Темная теплая куртка.
Производство: Беларусь.
Разные цвета и размеры.', 4500, 'ОАО Луч', 'Black stile', '4', 12);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (14, '2022-12-11 14:16:28.139719', 'Хорошая спортивная обувь.
Производство: Корея.
Вся линейка размеров.', 2500, 'SFT Intertament', 'Gety LK', '25', 11);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (15, '2022-12-11 14:20:13.488608', 'Комплект стильный серый.
Производство: Чехия.
Размеры и цвета уточняйте.', 20350, 'Rukkengy', 'Gray FS', '36', 12);
INSERT INTO public.product (id, date_time_of_created, description, price, seller, title, warehouse, category_id) VALUES (16, '2022-12-11 14:23:06.907527', 'Качественные туфли из кожи.
Производство: Япония.
Размеры: с 36-45.', 9500, 'Saiber Prodaction', 'Tufli DWE', '4', 11);


--
-- TOC entry 2855 (class 0 OID 24797)
-- Dependencies: 207
-- Data for Name: product_cart; Type: TABLE DATA; Schema: public; Owner: postgres
--

INSERT INTO public.product_cart (id, person_id, product_id) VALUES (4, 2, 10);
INSERT INTO public.product_cart (id, person_id, product_id) VALUES (6, 2, 13);


--
-- TOC entry 2864 (class 0 OID 0)
-- Dependencies: 196
-- Name: category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.category_id_seq', 12, true);


--
-- TOC entry 2865 (class 0 OID 0)
-- Dependencies: 198
-- Name: image_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.image_id_seq', 80, true);


--
-- TOC entry 2866 (class 0 OID 0)
-- Dependencies: 200
-- Name: orders_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.orders_id_seq', 2, true);


--
-- TOC entry 2867 (class 0 OID 0)
-- Dependencies: 202
-- Name: person_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.person_id_seq', 2, true);


--
-- TOC entry 2868 (class 0 OID 0)
-- Dependencies: 206
-- Name: product_cart_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_cart_id_seq', 7, true);


--
-- TOC entry 2869 (class 0 OID 0)
-- Dependencies: 204
-- Name: product_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.product_id_seq', 16, true);


--
-- TOC entry 2704 (class 2606 OID 24759)
-- Name: category category_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.category
    ADD CONSTRAINT category_pkey PRIMARY KEY (id);


--
-- TOC entry 2706 (class 2606 OID 24766)
-- Name: image image_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT image_pkey PRIMARY KEY (id);


--
-- TOC entry 2708 (class 2606 OID 24773)
-- Name: orders orders_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT orders_pkey PRIMARY KEY (id);


--
-- TOC entry 2710 (class 2606 OID 24783)
-- Name: person person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.person
    ADD CONSTRAINT person_pkey PRIMARY KEY (id);


--
-- TOC entry 2716 (class 2606 OID 24801)
-- Name: product_cart product_cart_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT product_cart_pkey PRIMARY KEY (id);


--
-- TOC entry 2712 (class 2606 OID 24794)
-- Name: product product_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT product_pkey PRIMARY KEY (id);


--
-- TOC entry 2714 (class 2606 OID 24803)
-- Name: product uk_qka6vxqdy1dprtqnx9trdd47c; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT uk_qka6vxqdy1dprtqnx9trdd47c UNIQUE (title);


--
-- TOC entry 2718 (class 2606 OID 24809)
-- Name: orders fk1b0m4muwx1t377w9if3w6wwqn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk1b0m4muwx1t377w9if3w6wwqn FOREIGN KEY (person_id) REFERENCES public.person(id);


--
-- TOC entry 2720 (class 2606 OID 24819)
-- Name: product fk1mtsbur82frn64de7balymq9s; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product
    ADD CONSTRAINT fk1mtsbur82frn64de7balymq9s FOREIGN KEY (category_id) REFERENCES public.category(id);


--
-- TOC entry 2719 (class 2606 OID 24814)
-- Name: orders fk787ibr3guwp6xobrpbofnv7le; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.orders
    ADD CONSTRAINT fk787ibr3guwp6xobrpbofnv7le FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 2717 (class 2606 OID 24804)
-- Name: image fkgpextbyee3uk9u6o2381m7ft1; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.image
    ADD CONSTRAINT fkgpextbyee3uk9u6o2381m7ft1 FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 2722 (class 2606 OID 24829)
-- Name: product_cart fkhpnrxdy3jhujameyod08ilvvw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fkhpnrxdy3jhujameyod08ilvvw FOREIGN KEY (product_id) REFERENCES public.product(id);


--
-- TOC entry 2721 (class 2606 OID 24824)
-- Name: product_cart fksgnkc1ko2i1o9yr2p63ysq3rn; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.product_cart
    ADD CONSTRAINT fksgnkc1ko2i1o9yr2p63ysq3rn FOREIGN KEY (person_id) REFERENCES public.person(id);


-- Completed on 2022-12-11 19:48:53

--
-- PostgreSQL database dump complete
--

